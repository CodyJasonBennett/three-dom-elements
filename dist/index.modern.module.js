import{Vector3 as e,Box3 as t,PlaneGeometry as s,MeshBasicMaterial as i,NoBlending as n,DoubleSide as r,Mesh as o,PerspectiveCamera as c,Scene as a}from"three";import{CSS3DObject as h,CSS3DRenderer as d}from"three/examples/jsm/renderers/CSS3DRenderer";function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(o){var c,a;function d(e,t,c){var a,d=void 0===c?{}:c,m=d.elementWidth,l=void 0===m?768:m,p=d.width,u=void 0===p?1:p,f=d.height,b=void 0===f?.75:f,v=new s(u,b),y=new i({opacity:0,color:16777215,blending:n,side:r});return(a=o.call(this,v,y)||this).domElement=t,a.aspectRatio=b/u,a.elementWidth=l,a.elementHeight=a.elementWidth*a.aspectRatio,a.width=u,a.height=b,a.resizeDomElement(),a.cssObject=new h(a.domElement),a.cssObject.scale.multiplyScalar(100/(a.elementWidth/a.width)),a.addEventListener("added",function(){return e.cssScene.add(a.cssObject)}),a.addEventListener("removed",function(){return e.cssScene.remove(a.cssObject)}),a.update=a.update.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a}a=o,(c=d).prototype=Object.create(a.prototype),c.prototype.constructor=c,m(c,a);var l=d.prototype;return l.resizeDomElement=function(){this.domElement.style.width=this.elementWidth+"px",this.domElement.style.height=this.elementHeight+"px"},l.setDomElement=function(e){this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=e,this.cssObject.element=e,this.resizeDomElement()},l.update=function(){this.updateMatrixWorld(),this.matrixWorld.decompose(this.position,this.quaternion,this.scale),this.cssObject.quaternion.copy(this.quaternion),this.cssObject.position.copy(this.position).multiplyScalar(100);var s=new e;(new t).setFromObject(this).getSize(s),this.cssObject.scale.multiplyScalar(100/(this.elementWidth/(s.x*this.scale.x))),this.cssObject.visible=this.visible},d}(o),p=function(){function e(e){this.enabled=!0,this.cssRenderer=new d,this.domElement=this.cssRenderer.domElement,this.cssCamera=new c(e.fov,e.aspect,100*e.near,100*e.far),this.camera=e,this.cssScene=new a,this.update=this.update.bind(this)}var t=e.prototype;return t.setSize=function(e,t){this.cssRenderer.setSize(e,t),this.cssCamera.aspect=e/t,this.cssCamera.updateProjectionMatrix()},t.update=function(){this.cssCamera.quaternion.copy(this.camera.quaternion),this.cssCamera.position.copy(this.camera.position).multiplyScalar(100),this.enabled&&this.cssScene.traverse(function(e){e.update&&e.update()}),this.cssRenderer.render(this.cssScene,this.cssCamera)},e}();export{p as DOMContext,l as DOMElement};
//# sourceMappingURL=index.modern.module.js.map
