import{PerspectiveCamera as e,Scene as t,PlaneGeometry as s,MeshBasicMaterial as i,NoBlending as n,DoubleSide as r,Mesh as o}from"three";import{CSS3DRenderer as c,CSS3DObject as a}from"three/examples/jsm/renderers/CSS3DRenderer.js";var h=function(){function s(s){this.enabled=!0,this.cssRenderer=new c,this.domElement=this.cssRenderer.domElement,this.cssCamera=new e(s.fov,s.aspect,100*s.near,100*s.far),this.camera=s,this.cssScene=new t,this.update=this.update.bind(this)}var i=s.prototype;return i.setSize=function(e,t){this.cssRenderer.setSize(e,t),this.cssCamera.aspect=e/t,this.cssCamera.updateProjectionMatrix()},i.update=function(){this.cssCamera.quaternion.copy(this.camera.quaternion),this.cssCamera.position.copy(this.camera.position).multiplyScalar(100),this.enabled&&this.cssScene.traverse(function(e){e.update&&e.update()}),this.cssRenderer.render(this.cssScene,this.cssCamera)},s}(),d=function(e){var t,o;function c(t,o,c){var h,d=c||{},m=d.elementWidth,l=void 0===m?768:m,p=d.width,u=void 0===p?1:p,b=d.height,f=void 0===b?.75:b,v=new s(u,f),y=new i({opacity:0,color:16777215,blending:n,side:r});return(h=e.call(this,v,y)||this).domElement=o,h.aspectRatio=f/u,h.elementWidth=l,h.elementHeight=h.elementWidth*h.aspectRatio,h.width=u,h.height=f,h.resizeDomElement(),h.cssObject=new a(h.domElement),h.cssObject.scale.multiplyScalar(100/(h.elementWidth/h.width)),h.addEventListener("added",function(){return t.cssScene.add(h.cssObject)}),h.addEventListener("removed",function(){return t.cssScene.remove(h.cssObject)}),h.update=h.update.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(h)),h}o=e,(t=c).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var h=c.prototype;return h.resizeDomElement=function(){this.domElement.style.width=this.elementWidth+"px",this.domElement.style.height=this.elementHeight+"px"},h.setDomElement=function(e){this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=e,this.cssObject.element=e,this.resizeDomElement()},h.update=function(){this.updateMatrixWorld(),this.matrixWorld.decompose(this.position,this.quaternion,this.scale),this.cssObject.quaternion.copy(this.quaternion),this.cssObject.position.copy(this.position).multiplyScalar(100),this.cssObject.scale.multiplyScalar(100/(this.elementWidth/(this.geometry.parameters.width*this.scale.x))),this.cssObject.visible=this.visible},c}(o);export{h as DOMContext,d as DOMElement};
//# sourceMappingURL=index.module.js.map
