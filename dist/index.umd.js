!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three"),require("three/examples/jsm/renderers/CSS3DRenderer.js")):"function"==typeof define&&define.amd?define(["exports","three","three/examples/jsm/renderers/CSS3DRenderer.js"],t):t((e||self).threeDomElements={},e.THREE,e.CSS3DRenderer_js)}(this,function(e,t,s){var i=100,n=function(e){var n,r;function o(n,r,o){var a,c=void 0===o?{}:o,h=c.elementWidth,d=void 0===h?768:h,l=c.width,m=void 0===l?1:l,p=c.height,u=void 0===p?.75:p,f=new t.PlaneGeometry(m,u),b=new t.MeshBasicMaterial({opacity:0,color:16777215,blending:t.NoBlending,side:t.DoubleSide});return(a=e.call(this,f,b)||this).domElement=r,a.aspectRatio=u/m,a.elementWidth=d,a.elementHeight=a.elementWidth*a.aspectRatio,a.width=m,a.height=u,a.position=new t.Vector3,a.scale=new t.Vector3,a.quaternion=new t.Quaternion,a.resizeDomElement(),a.cssObject=new s.CSS3DObject(a.domElement),a.cssObject.scale.multiplyScalar(i/(a.elementWidth/a.width)),a.addEventListener("added",function(){return n.cssScene.add(a.cssObject)}),a.addEventListener("removed",function(){return n.cssScene.remove(a.cssObject)}),a.update=a.update.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=o.prototype;return a.resizeDomElement=function(){this.domElement.style.width=this.elementWidth+"px",this.domElement.style.height=this.elementHeight+"px"},a.setDomElement=function(e){this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=e,this.cssObject.element=e,this.resizeDomElement()},a.update=function(){this.updateMatrixWorld(),this.matrixWorld.decompose(this.position,this.quaternion,this.scale),this.cssObject.quaternion.copy(this.quaternion),this.cssObject.position.copy(this.position).multiplyScalar(i),this.cssObject.scale.multiplyScalar(i/(this.elementWidth/(this.geometry.parameters.width*this.scale.x))),this.cssObject.visible=this.visible},o}(t.Mesh);e.DOMContext=function(){function e(e){this.enabled=!0,this.cssRenderer=new s.CSS3DRenderer,this.domElement=this.cssRenderer.domElement,this.cssCamera=new t.PerspectiveCamera(e.fov,e.aspect,e.near*i,e.far*i),this.camera=e,this.cssScene=new t.Scene,this.update=this.update.bind(this)}var n=e.prototype;return n.setSize=function(e,t){this.cssRenderer.setSize(e,t),this.cssCamera.aspect=e/t,this.cssCamera.updateProjectionMatrix()},n.update=function(){this.cssCamera.quaternion.copy(this.camera.quaternion),this.cssCamera.position.copy(this.camera.position).multiplyScalar(i),this.enabled&&this.cssScene.traverse(function(e){e.update&&e.update()}),this.cssRenderer.render(this.cssScene,this.cssCamera)},e}(),e.DOMElement=n});
//# sourceMappingURL=index.umd.js.map
