!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("three"),require("three/examples/jsm/renderers/CSS3DRenderer")):"function"==typeof define&&define.amd?define(["exports","three","three/examples/jsm/renderers/CSS3DRenderer"],t):t((e||self).threeDomElements={},e.THREE,e.CSS3DRenderer)}(this,function(e,t,s){function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var n=100,o=function(e){var o,r;function d(i,o,r){var d,h=void 0===r?{}:r,c=h.elementWidth,a=void 0===c?768:c,l=h.width,m=void 0===l?1:l,p=h.height,u=void 0===p?.75:p,f=new t.PlaneGeometry(m,u),v=new t.MeshBasicMaterial({opacity:0,blending:t.NoBlending,side:t.DoubleSide});return(d=e.call(this,f,v)||this).context=i,d.domElement=o,d.aspectRatio=u/m,d.elementWidth=a,d.elementHeight=d.elementWidth*d.aspectRatio,d.width=m,d.height=u,d.resizeElement(),d.cssObject=new s.CSS3DObject(d.domElement),d.cssObject.scale.multiplyScalar(n/(d.elementWidth/d.width)),d.size=new t.Vector3,d.box=new t.Box3,d.addEventListener("added",d.handleAdded),d.addEventListener("removed",d.handleRemoved),d.update=d.update.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(d)),d}r=e,(o=d).prototype=Object.create(r.prototype),o.prototype.constructor=o,i(o,r);var h=d.prototype;return h.handleAdded=function(){this.context.cssScene.add(this.cssObject)},h.handleRemoved=function(){this.context.cssScene.remove(this.cssObject)},h.resizeElement=function(){this.domElement.style.width=this.elementWidth+"px",this.domElement.style.height=this.elementHeight+"px"},h.setElement=function(e){this.domElement.parentNode&&this.domElement.parentNode.removeChild(this.domElement),this.domElement=e,this.cssObject.element=e,this.resizeElement()},h.update=function(){this.updateMatrixWorld(),this.matrixWorld.decompose(this.position,this.quaternion,this.scale),this.cssObject.quaternion.copy(this.quaternion),this.cssObject.position.copy(this.position).multiplyScalar(n),this.box.setFromObject(this).getSize(this.size),this.cssObject.scale.multiplyScalar(n/(this.elementWidth/(this.size.x*this.scale.x))),this.cssObject.visible=this.visible},h.dispose=function(){this.removeEventListener("added",this.handleAdded),this.removeEventListener("removed",this.handleRemoved),this.domElement.remove(),this.geometry.dispose(),this.material.dispose()},d}(t.Mesh);e.DOMContext=function(){function e(e){this.enabled=!0,this.cssRenderer=new s.CSS3DRenderer,this.domElement=this.cssRenderer.domElement,this.cssCamera=new t.PerspectiveCamera(e.fov,e.aspect,e.near*n,e.far*n),this.camera=e,this.cssScene=new t.Scene,this.update=this.update.bind(this)}var i=e.prototype;return i.setSize=function(e,t){this.cssRenderer.setSize(e,t),this.cssCamera.aspect=e/t,this.cssCamera.updateProjectionMatrix()},i.update=function(){this.cssCamera.quaternion.copy(this.camera.quaternion),this.cssCamera.position.copy(this.camera.position).multiplyScalar(n),this.enabled&&this.cssScene.traverse(function(e){e.update&&e.update()}),this.cssRenderer.render(this.cssScene,this.cssCamera)},e}(),e.DOMElement=o,e.cssFactor=n});
//# sourceMappingURL=index.umd.js.map
